<!DOCTYPE html><html>  <meta charset="UTF-8"> <style>	html{		width:100%;		height:100%;		font-family: Arial, Helvetica, sans-serif;		font-size: 12px;	}		body{		width:100%;		height:100%;	}		div.zoom {		width: 370px;		position: static;		/*border: 1px solid blue;*/		transform-origin: 0% 0%;		transform: scale(2);		}			.tabulator{	    width:250px;	}	.refresh{	    font-size:8px;		color:blue;	}	</style><head>    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">	<link href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.3/css/tabulator.min.css" rel="stylesheet">	<link href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.0.0/css/tabulator.min.css" rel="stylesheet">	<script src="https://code.jquery.com/jquery-2.2.4.js"integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="crossorigin="anonymous"></script>	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script> 	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tabulator/4.4.3/js/tabulator.min.js"> </script></head><body>	<div class = "zoom">		<H2> Statut</H2>					<div id="tb"></div>		<label for="refresh" onclick="handleRefresh(this);" class="refresh" >Rafraîchir</label>		<br>		</p>	</div></body><script>	//data ={"Items":[{"A":"Temperature", "B":"22.5"},{"A":"Volume Courant","B":"4256"},{"A":"Volume Total","B":"12650780"},{"A":"Débit","B":"250 (l/min)"}]};		var refresh = false;		var Edited = false;	var DST = true;	var dataSvr = {};	var table;	LoadData();    //showData();	function LoadData(){		var x = window.location.href;		var y = x.substr(0, x.lastIndexOf('/'));		//y = 'http://192.168.0.240';		url = y+'/getstatusdata';		fetch(url)		.then (function(resp){			if (!resp.ok) {				Alert ("Respone NOT ok");				throw Error(resp.statusText);			}			return resp.json().then(function(json){			if (json){ 				dataSvr = json.Items;				//alert(JSON.stringify(dataSvr));				showData();				}			});			})		.catch(function(error) {		});		showData;	}function showData()	{	table = new Tabulator("#tb", {	data:dataSvr,	columns:[{title:"A",field:"A",width: 100, headerSort:false},			{title:"B",field:"B",width: 150, headerSort:false},						],			 cellEdited:function(cell){				document.getElementById("save").style.visibility='visible';				Edited=true;				refresh=false;				clearInterval(T);				document.getElementsByClassName("refresh")[0].innerHTML = "Rafraîchir"; 			},});}function Cancel() {	LoadData();} function handleRefresh(element){   if (refresh == true) {    refresh = false;	clearInterval(T);	element.innerHTML = "Rafraîchir";   }   else  {     T = setInterval(LoadData,1000);	refresh = true;    element.innerHTML = "Ne plus rafraîchir";  }	}</script></html>